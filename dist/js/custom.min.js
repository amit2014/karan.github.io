/*
 goel.io 2014-12-15 
*/
$(document).ready(function(){function a(){$("#sidebar").addClass("active"),$("#menu-toggle").addClass("active")}function b(){$("#sidebar").removeClass("active"),$("#menu-toggle").removeClass("active")}function c(){function a(a,c){var d;d=new google.maps.Marker(c.result.what?{position:a,map:b,title:c.name,icon:"http://wcdn4.dataknet.com/static/resources/icons/set19/f659c8f85d7.png"}:{position:a,map:b,title:c.name});var e='<div id="map-info-content"><b>'+c.name+"</b><br><small><em>"+c.when+"<br>at<br>"+c.place+"</em></small><br>";c.hack.name&&(e+='<br><b>Project: <a href="'+c.hack.link+'" target="_blank">'+c.hack.name+"</a></b><br>"),c.result.what&&(e+="<br>"+c.result.what+" "+c.result.standing+"<br><b>Prize:</b> "+c.result.prize),e+="</div>";var g=new google.maps.InfoWindow({content:e});f.push(g),google.maps.event.addListener(d,"click",function(){for(var a=0;a<f.length;a++)f[a].close();g.open(b,d)})}var b=new google.maps.Map(document.getElementById("map_canvas"),{center:new google.maps.LatLng(37.09024,-95.712891),zoom:5,scrollwheel:!1}),c=new google.maps.LatLngBounds;$.getJSON("/hackathons.json",function(d){var e=d.hackathons;for(var f in e){hackathon=e[f];var g=new google.maps.LatLng(hackathon.latlng.split(",")[0],hackathon.latlng.split(",")[1]);a(g,hackathon),c.extend(g)}b.fitBounds(c)})}function d(){offset6=-(1*g),offset5=-(.7*g),offset4=-(.5*g),offset3=-(.3*g),offset2=-(.2*g),offset1=-(.1*g),h.style.webkitTransform="translate3d(0, "+offset1+"px, 0)",h.style.MozTransform="translate3d(0, "+offset1+"px, 0)",h.style.msTransform="translateY("+offset1+"px)",h.style.OTransform="translate3d(0, "+offset1+"px, 0)",h.style.transform="translate3d(0, "+offset1+"px, 0)",i.style.webkitTransform="translate3d(0, "+offset2+"px, 0)",i.style.MozTransform="translate3d(0, "+offset2+"px, 0)",i.style.msTransform="translateY("+offset2+"px)",i.style.OTransform="translate3d(0, "+offset2+"px, 0)",i.style.transform="translate3d(0, "+offset2+"px, 0)",j.style.webkitTransform="translate3d(0, "+offset3+"px, 0)",j.style.MozTransform="translate3d(0, "+offset3+"px, 0)",j.style.msTransform="translateY("+offset3+"px)",j.style.OTransform="translate3d(0, "+offset3+"px, 0)",j.style.transform="translate3d(0, "+offset3+"px, 0)",k.style.webkitTransform="translate3d(0, "+offset4+"px, 0)",k.style.MozTransform="translate3d(0, "+offset4+"px, 0)",k.style.msTransform="translateY("+offset4+"px)",k.style.OTransform="translate3d(0, "+offset4+"px, 0)",k.style.transform="translate3d(0, "+offset4+"px, 0)",l.style.webkitTransform="translate3d(0, "+offset5+"px, 0)",l.style.MozTransform="translate3d(0, "+offset5+"px, 0)",l.style.msTransform="translateY("+offset5+"px)",l.style.OTransform="translate3d(0, "+offset5+"px, 0)",l.style.transform="translate3d(0, "+offset5+"px, 0)",m.style.webkitTransform="translate3d(0, "+offset6+"px, 0)",m.style.MozTransform="translate3d(0, "+offset6+"px, 0)",m.style.msTransform="translateY("+offset6+"px)",m.style.OTransform="translate3d(0, "+offset6+"px, 0)",m.style.transform="translate3d(0, "+offset6+"px, 0)"}function e(){g=Math.max(window.pageYOffset,0),d()}$(".top").height($(window).height()),$(window).width()<630&&$(".hackathons-nav").css("display","none"),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$("#menu-toggle").click(function(c){c.preventDefault(),c.stopPropagation(),$("#sidebar").hasClass("active")?b():a()}),$(document).click(function(){$("#sidebar").hasClass("active")&&b()}),$("#sidebar a").click(function(){setTimeout(b,500)}),$(window).resize(function(){$(".top").height($(window).height())}),$("#map_canvas").width($(window).width()),$("#map_canvas").height(.6*$(window).height());var f=[];google.maps.event.addDomListener(window,"load",c);var g=0,h=document.getElementById("layer-1"),i=document.getElementById("layer-2"),j=document.getElementById("layer-3"),k=document.getElementById("layer-4"),l=document.getElementById("layer-5"),m=document.getElementById("layer-6");document.addEventListener("scroll",e,!1)});