/*
 goel.io 2014-11-20 
*/
$(document).ready(function(){function a(){$("#sidebar").addClass("active"),$("#menu-toggle").addClass("active")}function b(){$("#sidebar").removeClass("active"),$("#menu-toggle").removeClass("active")}function c(){function a(a,c){var e;e=new google.maps.Marker(c.result.what?{position:a,map:b,title:c.name,icon:"http://wcdn4.dataknet.com/static/resources/icons/set19/f659c8f85d7.png"}:{position:a,map:b,title:c.name});var f='<div id="map-info-content"><b>'+c.name+"</b><br><small><em>"+c.when+"<br>at<br>"+c.place+"</em></small><br>";c.hack.name&&(f+='<br><b>Project: <a href="'+c.hack.link+'" target="_blank">'+c.hack.name+"</a></b><br>"),c.result.what&&(f+="<br>"+c.result.what+" "+c.result.standing+"<br><b>Prize:</b> "+c.result.prize),f+="</div>";var g=new google.maps.InfoWindow({content:f});d.push(g),google.maps.event.addListener(e,"click",function(){for(var a=0;a<d.length;a++)d[a].close();g.open(b,e)})}var b=new google.maps.Map(document.getElementById("map_canvas"),{center:new google.maps.LatLng(37.09024,-95.712891),zoom:5,scrollwheel:!1}),c=new google.maps.LatLngBounds;$.getJSON("/hackathons.json",function(d){var e=d.hackathons;for(var f in e){hackathon=e[f];var g=new google.maps.LatLng(hackathon.latlng.split(",")[0],hackathon.latlng.split(",")[1]);a(g,hackathon),c.extend(g)}b.fitBounds(c)})}$(".top").height($(window).height()),$(window).width()<630&&$(".hackathons-nav").css("display","none"),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},1e3),!1}}),$("#menu-toggle").click(function(c){c.preventDefault(),c.stopPropagation(),$("#sidebar").hasClass("active")?b():a()}),$(document).click(function(){$("#sidebar").hasClass("active")&&b()}),$("#sidebar a").click(function(){setTimeout(b,500)}),$(window).resize(function(){$(".top").height($(window).height())}),$("#map_canvas").width($(window).width()),$("#map_canvas").height(.6*$(window).height());var d=[];google.maps.event.addDomListener(window,"load",c)});